-- Fully Upgraded Smooth UI Lib with Tickbox Toggles, Shadows, Sliders, Dropdown, Notifications, Config
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local SmoothUILib = {}

function SmoothUILib:CreateWindow(title)
    local Settings = {
        AccentColor = Color3.fromRGB(80, 120, 255),
        Background = Color3.fromRGB(25, 25, 30),
        Header = Color3.fromRGB(40, 40, 45),
        TabBG = Color3.fromRGB(30, 30, 35),
        Font = Enum.Font.SourceSansSemibold,
    }

    local Gui = Instance.new("ScreenGui", game.CoreGui)
    Gui.Name = "SmoothUI"
    Gui.ResetOnSpawn = false

    local Main = Instance.new("Frame", Gui)
    Main.Size = UDim2.new(0, 580, 0, 380)
    Main.Position = UDim2.new(0.5, -290, 0.5, -190)
    Main.BackgroundColor3 = Settings.Background
    Main.BorderSizePixel = 0
    Main.Active = true
    Main.Draggable = true
    Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 10)

    local Shadow = Instance.new("ImageLabel", Main)
    Shadow.Image = "rbxassetid://1316045217"
    Shadow.Size = UDim2.new(1, 60, 1, 60)
    Shadow.Position = UDim2.new(0, -30, 0, -30)
    Shadow.BackgroundTransparency = 1
    Shadow.ImageTransparency = 0.6
    Shadow.ZIndex = -1

    local Title = Instance.new("TextLabel", Main)
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.BackgroundColor3 = Settings.Header
    Title.Text = title or "Smooth UI"
    Title.TextColor3 = Color3.new(1, 1, 1)
    Title.Font = Settings.Font
    Title.TextSize = 20
    Title.BorderSizePixel = 0

    local TabBar = Instance.new("Frame", Main)
    TabBar.Size = UDim2.new(0, 120, 1, -40)
    TabBar.Position = UDim2.new(0, 0, 0, 40)
    TabBar.BackgroundColor3 = Settings.TabBG
    TabBar.BorderSizePixel = 0
    Instance.new("UICorner", TabBar).CornerRadius = UDim.new(0, 8)

    local TabHolder = Instance.new("Frame", TabBar)
    TabHolder.Size = UDim2.new(1, 0, 1, 0)
    TabHolder.BackgroundTransparency = 1

    local TabLayout = Instance.new("UIListLayout", TabHolder)
    TabLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TabLayout.Padding = UDim.new(0, 6)

    local Tabs = {}
    local CurrentConfig = {}

    function SmoothUILib:CreateTab(name)
        local Btn = Instance.new("TextButton", TabHolder)
        Btn.Size = UDim2.new(1, -10, 0, 30)
        Btn.Position = UDim2.new(0, 5, 0, 0)
        Btn.Text = name
        Btn.Font = Settings.Font
        Btn.TextSize = 14
        Btn.TextColor3 = Color3.new(1, 1, 1)
        Btn.BackgroundColor3 = Settings.AccentColor
        Btn.BorderSizePixel = 0
        Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 6)

        local Content = Instance.new("ScrollingFrame", Main)
        Content.Size = UDim2.new(1, -130, 1, -50)
        Content.Position = UDim2.new(0, 125, 0, 45)
        Content.BackgroundColor3 = Settings.Background
        Content.BorderSizePixel = 0
        Content.ScrollBarThickness = 4
        Content.Visible = false
        Instance.new("UICorner", Content).CornerRadius = UDim.new(0, 8)

        local Layout = Instance.new("UIListLayout", Content)
        Layout.Padding = UDim.new(0, 10)
        Layout.SortOrder = Enum.SortOrder.LayoutOrder

        Btn.MouseButton1Click:Connect(function()
            for _, v in pairs(Tabs) do
                v.Content.Visible = false
            end
            Content.Visible = true
        end)

        local API = {}

        function API:AddButton(txt, callback)
            local B = Instance.new("TextButton", Content)
            B.Size = UDim2.new(1, -10, 0, 30)
            B.Text = txt
            B.Font = Settings.Font
            B.TextSize = 14
            B.TextColor3 = Color3.new(1, 1, 1)
            B.BackgroundColor3 = Settings.AccentColor
            B.BorderSizePixel = 0
            Instance.new("UICorner", B).CornerRadius = UDim.new(0, 5)
            B.MouseButton1Click:Connect(callback)
        end

        function API:AddToggle(txt, default, callback)
            local Hold = Instance.new("Frame", Content)
            Hold.Size = UDim2.new(1, -10, 0, 30)
            Hold.BackgroundTransparency = 1

            local Box = Instance.new("TextButton", Hold)
            Box.Size = UDim2.new(0, 30, 1, 0)
            Box.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            Box.Text = ""
            Box.AutoButtonColor = false
            Instance.new("UICorner", Box).CornerRadius = UDim.new(0, 4)

            local Tick = Instance.new("TextLabel", Box)
            Tick.Size = UDim2.new(1, 0, 1, 0)
            Tick.Text = "âœ”"
            Tick.TextColor3 = Color3.fromRGB(0, 255, 0)
            Tick.TextScaled = true
            Tick.BackgroundTransparency = 1
            Tick.Font = Settings.Font
            Tick.TextTransparency = default and 0 or 1

            local Label = Instance.new("TextLabel", Hold)
            Label.Size = UDim2.new(1, -40, 1, 0)
            Label.Position = UDim2.new(0, 40, 0, 0)
            Label.Text = txt
            Label.TextColor3 = Color3.new(1, 1, 1)
            Label.BackgroundTransparency = 1
            Label.TextXAlignment = Enum.TextXAlignment.Left
            Label.Font = Settings.Font
            Label.TextSize = 14

            local state = default or false
            Box.MouseButton1Click:Connect(function()
                state = not state
                local targetTransparency = state and 0 or 1
                TweenService:Create(Tick, TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                    TextTransparency = targetTransparency
                }):Play()
                if callback then callback(state) end
            end)
        end

        -- (Slider and Notification remain unchanged)

        Tabs[name] = {Content = Content, TabButton = Btn}
        return API
    end

    return SmoothUILib
end

return SmoothUILib
